# 比較演算
Forth 系である Paraphrase は
原理的に後置記法となります。
記法とは別に、その記法がどのような意味で解釈されるのかは
言語設計者に委ねられますが、
比較演算も算術演算と同様の意味となるように実装されています。

例えば、大小を判定する不等号記号 &lt; について説明しますと、
4 5 &lt; というプログラム片は、
中置記法似直すと 4 &lt; 5 という意味となるよう、
&lt; というワードは設計・実装されています。
そしてもちろんこのプログラム片の意味するところは、
4 は 5 よりも小なりか？という意味ですので、
この例におけるワード &lt; は true をスタックに積みます。

このように一般的な比較演算子については、
TOS およびセカンドから値を取り出し、
それらについての比較演算を実施し、
その結果を真偽値としてスタックに積みます。
参照形板は TOS およびセカンドを参照する形となります。

TOS とセカンドが等しいか否かを調べるワード == については、
その対象は数値のみならず（後に別途説明する）リストまで
含まれています。
TOS とセカンドに格納されているリストが等しいものであるか
否かをワード == にて確認できます。

また、等しくないことを確認するワード != では、
数値と文字列にも対応しています。
TOS とセカンドに格納されている 2 つの文字列が
等しくないことを確認できます。

<[dl-table-hr-begin]>
<[dl-table-item ワード名]>
<[ddt]><[gt]>
<[ref lt &lt;]> , <[ref le &lt;=]> ,
<[ref gt &gt;]> , <[ref ge &gt;=]> ,
<[ref eq ==]> , <[ref ne !=]> ,
<[ref ref_lt @&lt;]> , <[ref ref_le @&lt;=]> ,
<[ref ref_gt @&gt;]> , <[ref ref_gt @&gt;=]> ,
<[ref ref_eq @==]> , <[ref ref_ne @!=]>
<[/gt]><[/ddt]>
<[dl-table-item 実行レベル]>
<[ddt]>標準実行レベル<[/ddt]>
<[dl-table-item スタックの変化]>
<[ddt]>
標準形 : N N --- B <[br]>
参照形 : N1 N2 --- N1 N2 B <[br]>
ただし == については R R --- B も、
!= については S S --- B を含みます。
<[/ddt]>
<[dl-table-item 使用例]>
<[ddt]>
次の例では 10 を 2 で割った余りが 0 であることを
確認しています。
<[code-begin]>
&gt; 10 2 % 0 == .
  true ok.
<[code-end]>
<[/ddt]>
<[dl-table-item エラー]>
<[ddt]>
スタックの状態が想定されているものと異なる場合は
エラーとなります。
<[/ddt]>
<[dl-table-hr-end]>

Paraphrase には、少し特殊な比較用ワードも存在します。
TOS が 0 であるか否かを調べるワードとして
0&quest; があります。
これは 0 == と同値です。

もう一つは not-true? というワードです。
これは TOS より値を取り出し、
その値が true でない場合は true をスタックに積む、
という少々説明がややこしいワードです。

この「true でない場合は」というところが重要で、
これは false を意味しません。
数値であっても、後ほど説明する無効な値（invalid な値）
であっても true でなければ true をスタックに積みます。
そのため、not-true? は true != とは異なる動作となります。

<[dl-table-hr-begin]>
<[dl-table-item ワード名]>
<[ddt]><[gt]>
<[ref is_zero 0&quest;]> , <[ref not-true&quest;]>
<[/gt]><[/ddt]>
<[dl-table-item 実行レベル]>
<[ddt]>標準実行レベル<[/ddt]>
<[dl-table-item スタックの変化]>
<[ddt]>
0&quest; : N --- B <[br]>
not-true&quest; : X --- B 
<[/ddt]>
<[dl-table-item 使用例]>
<[ddt]>
次の例では 1 は true でないことを確認しています。
<[code-begin]>
&gt; 1 not-true? .
  true ok.
<[code-end]>
<[/ddt]>
<[dl-table-item エラー]>
<[ddt]>
スタックの状態が想定されているものと異なる場合は
エラーとなります。
<[/ddt]>
<[dl-table-hr-end]>

